version: '2'

services:

  vault:
    image: xmargininc/vault-gramine:latest
    build: .
    devices:
      - "/dev/sgx/enclave:/dev/sgx/enclave"
      - "/dev/sgx/enclave:/dev/sgx_enclave"
      - "/dev/sgx_provision:/dev/sgx_provision"
    volumes:
      - type: volume
        target: /data
    ports:
      - "8200:8200"
    #command: bash -c "gramine-sgx vault"
    command: bash -c "sleep infinity"